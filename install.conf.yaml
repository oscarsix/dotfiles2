---

- defaults:
    link:
        relink: true
        create: true

- clean: ['~']

- shell:
  - command: ./update_dotfiles.zsh 
    stdout: true
    stderr: true

- link:
    ~/.dotfiles: ''
    ~/.ssh/assh.yml: assh.yml
    ~/.zshenv: zshenv
    ~/.zprofile: zprofile
    ~/.bin:
        path: bin
    ~/.oh-my-zsh:
        path: oh-my-zsh
        force: true
    ~/.zsh_custom:
        path: zsh_custom
        force: true
    ~/.zshrc:
        path: zshrc
        force: true
    ~/.vim: vim
    ~/.vim/bundle/Vundle.vim: Vundle.vim
    ~/.vimrc:
        path: vimrc
        force: true
    ~/.gitconfig:
        path: dots/gitconfig
        force: true
    ~/.gnupg/gpg.conf:
        path: gpg.conf
        force: true
    ~/.zsh_custom/plugins/zsh-completions: zsh-completions
    ~/.zsh_custom/plugins/dotfiles: dotfiles.plugin.zsh
    ~/.zsh_custom/plugins/zsh-256color: zsh-256color
    ~/.zsh_custom/plugins/async: zsh-async
    ~/.zsh_custom/themes/xxf.zsh-theme: xxf.zsh-theme
    ~/.zsh_custom/themes/geometry: geometry
    ~/.zsh_custom/plugins/transfersh: transfersh-plugin-zsh
    ~/.zsh_custom/plugins/zsh-syntax-highlighting: zsh-syntax-highlighting
    ~/.zsh_custom/themes/spaceship.zsh-theme: spaceship-zsh-theme/spaceship.zsh
    ~/.ssh/assh.d/assh_dots.yml: dots/assh_dots.yml
    ~/.ssh/assh.d/assh_rz01.yml: dots/assh_rz01.yml

- shell:
    - [git submodule update --init --recursive, Installing submodules]
    - [vim +PluginInstall +qall, Installing Vim plugins]
#    - command: 'curl -o- https://raw.githubusercontent.com/creationix/nvm/v0.33.1/install.sh | bash'
#      stdout: true
#      stderr: true

